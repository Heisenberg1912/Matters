# ===========================================
# MATTERS - Construction Management Platform
# Environment Configuration Template
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# Core runtime configuration
NODE_ENV=development
PORT=4000
HOST=0.0.0.0
API_PREFIX=/api

# Client Origins (comma-separated for multiple origins)
CLIENT_ORIGIN=http://localhost:5173
CLIENT_URL=http://localhost:5173
CORS_ORIGIN=http://localhost:5173

# ===========================================
# DATABASE (Required)
# ===========================================
# MongoDB Atlas connection string
# Get yours at: https://www.mongodb.com/atlas
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/matters
MONGODB_DB=matters
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/matters
MONGO_DBNAME=matters

# ===========================================
# AUTHENTICATION (Required)
# ===========================================
# Generate secure secrets using: openssl rand -hex 64
JWT_SECRET=your_jwt_secret_here_min_32_characters
JWT_ACCESS_SECRET=your_access_secret_here_min_64_characters
JWT_ACCESS_EXP=15m
JWT_REFRESH_SECRET=your_refresh_secret_here_min_64_characters
JWT_REFRESH_EXP=7d
JWT_EXPIRES_IN=7d
DEFAULT_ROLE=user

# ===========================================
# EMAIL / SMTP (Required for password reset)
# ===========================================
# Gmail: Use App Password, not your regular password
# Get App Password: Google Account > Security > 2FA > App Passwords
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password_here
EMAIL_FROM=your_email@gmail.com
EMAIL_FROM_NAME=Matters - Construction Management

# Frontend URL for password reset links
FRONTEND_URL=http://localhost:5173

# ===========================================
# FILE STORAGE (Choose one)
# ===========================================
# Options: 'local', 'cloudinary', 'drive'
ASSET_STORAGE_PROVIDER=local

# --- Cloudinary (Recommended for production) ---
# Get credentials at: https://cloudinary.com
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
CLOUDINARY_FOLDER=matters

# --- Google Drive (Alternative) ---
GOOGLE_OAUTH_CLIENT_ID=your_client_id
GOOGLE_OAUTH_CLIENT_SECRET=your_client_secret
GOOGLE_OAUTH_REFRESH_TOKEN=your_refresh_token
GOOGLE_DRIVE_FOLDER_ID=your_folder_id

# ===========================================
# REAL-TIME FEATURES (Optional)
# ===========================================
# Pusher for real-time notifications
# Get credentials at: https://pusher.com
PUSHER_APP_ID=your_app_id
PUSHER_KEY=your_key
PUSHER_SECRET=your_secret
PUSHER_CLUSTER=ap2

# ===========================================
# AI FEATURES (Optional)
# ===========================================
# Google Gemini API for chat assistant
# Get key at: https://makersuite.google.com/app/apikey
GEMINI_ENABLED=false
GEMINI_API_KEY=your_gemini_api_key
GEMINI_MODEL=gemini-2.0-flash
GEMINI_IMAGE_MODEL=gemini-2.0-flash

# OpenWeather API for weather-based recommendations
# Get key at: https://openweathermap.org/api
OPENWEATHER_API_KEY=your_openweather_api_key

# ===========================================
# PAYMENTS (Optional)
# ===========================================
# Razorpay for payments
# Get credentials at: https://razorpay.com
PAYMENTS_ENABLED=false
RAZORPAY_KEY_ID=your_key_id
RAZORPAY_KEY_SECRET=your_key_secret
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret

# ===========================================
# ADMIN SETUP
# ===========================================
# Initial superadmin credentials (used for seeding)
SUPERADMIN_EMAIL=admin@yourdomain.com
SUPERADMIN_PASSWORD=ChangeThisPassword123!

# ===========================================
# VITE CLIENT CONFIGURATION
# ===========================================
VITE_API_URL=http://localhost:4000
VITE_API_BASE_URL=/api
VITE_API_TIMEOUT_MS=15000

# ===========================================
# ADVANCED (Usually not needed to change)
# ===========================================
KEEP_ALIVE_TIMEOUT_MS=620000
SERVICE_NAME=matters-server
LOG_LEVEL=info
